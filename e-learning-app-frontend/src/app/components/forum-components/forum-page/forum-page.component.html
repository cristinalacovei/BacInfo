<div class="forum-wrapper">
  <section class="ask-form">
    <h2 class="section-title">ğŸ“¢ Pune o Ã®ntrebare</h2>
    <form [formGroup]="questionForm" (ngSubmit)="submitQuestion()">
      <quill-editor
        formControlName="questionText"
        [modules]="editorConfig"
        placeholder="Scrie Ã®ntrebarea ta..."
      ></quill-editor>
      <button type="submit" [disabled]="questionForm.invalid">
        âœ… PosteazÄƒ
      </button>
    </form>
  </section>

  <div class="forum-controls">
    <button (click)="toggleSortOrder()">
      ğŸ”ƒ SorteazÄƒ: {{ sortAsc ? "CrescÄƒtor â†‘" : "DescrescÄƒtor â†“" }}
    </button>
  </div>

  <section
    *ngFor="let question of allQuestions"
    class="question-card"
    (click)="goToQuestion(question.id)"
  >
    <header class="question-meta">
      <span class="author">
        ğŸ‘¤ {{ question.author.firstName }} {{ question.author.lastName }}
        <small>({{ question.author.userRole | titlecase }})</small>
      </span>
      <span class="date">ğŸ•’ {{ question.createdAt | date : "short" }}</span>

      <button
        *ngIf="isAdmin"
        class="delete-button"
        title="È˜terge"
        (click)="confirmDelete(question.id, $event)"
      >
        ğŸ—‘
      </button>
    </header>

    <div class="question-content">
      <div
        class="question-text preview"
        [innerHTML]="question.questionText"
      ></div>
      <div class="response-count">
        ğŸ’¬ {{ question.answers?.length || 0 }}
        {{ question.answers?.length === 1 ? "rÄƒspuns" : "rÄƒspunsuri" }}
      </div>
    </div>
  </section>

  <div class="pagination-controls">
    <button (click)="prevPage()" [disabled]="currentPage === 1">
      â¬… Anterior
    </button>
    <span>Pagina {{ currentPage }} din {{ totalPages }}</span>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">
      UrmÄƒtor â¡
    </button>
  </div>
</div>
